---
title: <h1 class="first">Le notebook<br><span style="font-size:70%;text-transform:lowercase">et la programmation lettrée<span></h1>
author: <h2><span style="color:#ffffff;font-size:60%;">Documenter ses traitements</span></h2>
date: <img src="figure/logo_notebook_o.png" style="margin-top:20px;margin-bottom:0px;" width="600"/><h2 class="place2"><i>Journées annuelles du réseau Mate-SHS, 17 mai 2022</i></h2><p class="name">Hugues Pecout (CIST, CNRS) - Timothée Giraud (RIATE, CNRS)</br>Sébastien Rey (IDEES, Université Rouen-Normandie)</p><img src="figure/riate.png" width="115" style="float:left;margin-top:60px;"/><img src="figure/cnrs.png" width="70" style="float:center;margin-top:30px;"/><img src="figure/cist-logo-bleu_sur_blanc.png" style="float:right;margin-top:30px;" width="70"/>
output: 
  revealjs::revealjs_presentation:
    self_contained: FALSE
    reveal_plugins: ["notes","zoom","menu"]
    theme: "black"
    highlight: "zenburn"
    css: styles.css
    incremental: TRUE
    center: TRUE	
    showNotes: FALSE
    transition: fade
    reveal_options:
      help: true
      controls: TRUE
      progress: TRUE
      controlsTutorial: TRUE
      controlsLayout: "edges"
      controlsBackArrows: "visible"
      slideNumber: TRUE
      hash: true
      keyboard: true
      overview: true
      touch: true
      navigationMode: "linear"
      embedded: false
      mouseWheel: true
      hideInactiveCursor: true
      hideAddressBar: true
      previewLinks: false
editor_options: 
  chunk_output_type: console
---



## Bonjour à tou·te·s

<p class="medpcenter" style="margin-top:60px;margin-bottom:0px;">Ingénieurs CNRS en sciences de l'information géographique</p>

<img src="figure/users.png" style="float:left;margin-top:40px;" width="380"/>


<div id="rightls">
<ul class="pucsmall22" style="margin-top:40px;">
> - Le langage R comme outil principal
> - Production régulière de notebook R
> - Responsables du projet Rzine
</ul>


<div class="fragment">
<img src="figure/users2.png" style="float:left;margin-top:10px;margin-left:60px;" width="186"/>


<div id="rightseb">
<ul class="xpucsmall" style="margin-top:50px;">
> - <span style="color:#f7a41f;">Ingénieur de recherche</span>
> - <span style="color:#f7a41f;">Geomatique/Informatique</span>
> - <span style="color:#f7a41f;">Coord. du GT Notebook</span>
> - <span style="color:#f7a41f;">Membre du projet Rzine</span>
</ul>
</div>
</div>

</div>

<aside class="notes">
Un groupe de travail inter-disciplinaire travaillant à un portail de ressources, ouvert, dédié à l'observation théorique et pratique des notebooks
</aside>


# {data-background="figure/logo_notebook2.png" data-background-size="1000px"}

<h2>**Le notebook**</h2>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>



## Définition

<p class="medpcenter" style="margin-top:40px;font-size:75%;">**Interface de programmation qui permet de combiner des sections en langage naturel et des sections en langage informatique**</p>


<p class="smallpcenter" style="margin-top:30px;font-size:55%;"><span style="color:grey;"><b>De nombreuses dénominations existent :</span></b></p>

<ul class="pucsmall2" style="margin-top:0px;font-size:50%;">
> - <span style="color:grey;">*Article exécutable*</span>
> - <span style="color:grey;">*Document computationnel*</span>
> - <span style="color:grey;">*Document électronique interactif*</span>
> - <span style="color:grey;">*Bloc-note*</span>
> - <span style="color:grey;">*Cahiers de programmation*</span>
> - <span style="color:grey;">*Cahier électronique d'analyse*</span>
> - <span style="color:grey;">*Calepin électronique*</span>
> - <span style="color:grey;">*Carnet de code*</span>
> - <span style="color:grey;">*Manifeste algorithmique*</span>
> - <span style="color:grey;">**Notebook !**</span>
> - <span style="color:grey;">*...*</span>


</ul>


<p class="medpcenter" style="margin-top:30px;font-size:75%;">**Un notebook permet d'appliquer le paradigme de programmation lettrée, qui facilite le partage, le travail collaboratif et la reproductibilité**</p>


## Une logique... des pratiques

<img src="figure/notebook_1.png" style="margin-top:40px;" width="1000"/>

<p style="font-size:60%;">La mise en forme du texte se fait à l'aide d'un langage de balisage (Markdown, html...)</p>

## Anatomie d'un notebook

<p class="smallpcenter">Simple fichier texte<P>
<img src="figure/notebook_2.png" style="margin-top:80px;" width="1000"/>

## Notebook sans code ?!

<img src="figure/notebook_3.png" style="margin-top:120px;" width="1000"/>

## Stylo (CRCEN) d'Human-Num

<img src="figure/stylo.png" style="margin-top:40px;" width="650"/>

<p class="smallpcenter">...Et plusieurs d'éditeurs libres comme [CodiMD](https://hackmd.io/#)...</p>

## Le Markdown

<div id="codermd">
<p class="smallpcenter">Fichier Markdown (.md)</p>
```{r, file = 'figure/hackmd.md', eval=FALSE}
```

<p class="smallpcenter">-> Visualiser sur [HackMD](https://hackmd.io/MVFMDJaVTkKM-s4IUz_q7A)</p>

</div>

<div id="codehtml">
<p class="smallpcenter">Texte mis en forme (sortie html)</p>
![](figure/hackmd.png)
</div>


## Exemple 

## Le Rmarkdown

<div id="codermd">

<p class="smallpcenter">Fichier source (.rmd)</p>

```{r, file = 'figure/exemple.rmd', eval=FALSE}
```
</div>

<div id="codehtml">

<p class="smallpcenter">Fichier en sortie (.html)</p>

![](figure/markdown.png)
</div>


## Le Rmarkdown

<img src="figure/knitr_process.png" style="margin-top:30px;" width="800"/>

## Rmarkdown avec Rstudio

<img src="figure/markdown2.png" style="margin-top:0px;" width="800"/>

## Rmarkdown avec Rstudio

<img src="figure/markdown3.png" style="margin-top:0px;" width="800"/>

# {data-background="figure/history.jpeg" data-background-size="750px"}

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>



## Les prémices


<div id="codermd2">

<p class="medpcenter"><span style="color:#f7a41f;">**Ancêtres du notebook :**</span></p>

<ul class="pucsmall22" style="margin-top:20px;">
> - 1970 : Scratchpad (Axiom)
> - 1987 : MathCad 
> - 1988 : Mathematica 
> - 1989 : Maple 
> - 2011 : IPython
</ul>

<img src="figure/Wolfram-Language-on-early-Mac.png" style="margin-top:40px;" width="300"/>


</div>

<div id="codehtml2">

<p class="medpcenter"><span style="color:#f7a41f;">**1ère mise en oeuvre remarqué :**</span></p>

<p style="font-size:50%;margin-top:30px;">En 1976, le sismologue **Jon Claerbout** publie la première version de son ouvrage : <br>
[*Fundamentals of Geophysical Data Processing*](http://sep.stanford.edu/data/media/public/sep/prof/toc_html/toc_html/fgdp3/fgdp_00.pdf)</p>

<p style="font-size:50%;">Ce livre électronique, devenu un classique, propose des calculs et graphiques recalculables à la volée (interactif), accessibles et modifiables.</p>


<p style="margin-top:80px;font-size:65%;"><span style="color:#f7a41f;">Au coeur du développement des notebooks, l'émergence d'un concept pensé et mis en oeuvre (1977-78) par **Donald Knuth**...</span></p> 

<p style="margin-top:40px;font-size:70%;"><span style="color:#f7a41f;">**The Literate Programming (LP)**<br>*La programmation lettrée*</span></p>

</div>


## Programmation lettrée


<p class="smallpcenter" style="margin-top:40px;">La **programmation lettrée** est une approche de la programmation qui se veut différente du paradigme de programmation structurée.</p>

> <p style="font-size:50%;">Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to human beings what we want a computer to do. <br> Donald Knuth, [LP Website citations page](http://www.literateprogramming.com/)</p>

> <p style="font-size:50%;">The practitioner of literate programming can be regarded as an essayist, whose main concern is with exposition and excellence of style. Such an author, with thesaurus in hand, chooses the names of variables carefully and explains what each variable means.
He or she strives for **a program that is comprehensible because its concepts have been introduced in an order that is best for human understanding**, using a mixture of formal and informal methods that reinforce each other. <br> Donald Knuth, [LP Website citations page](http://www.literateprogramming.com/)</p>


<p class="smallpcenter">**Le paradigme de la programmation lettrée**, tel qu'il a été conçu par **Knuth**, s'éloigne dans son écriture de l'ordonnancement imposé par l'ordinateur, et à la place **autorise les développeurs à utiliser un ordre imposé par la logique et le fil de leur pensée**.</p>


## Multiplication des notebooks et des plateformes

<img src="figure/typonotebook.png" style="margin-top:40px;" width="600"/>

<p style="font-size:40%;color:grey;">S. Lau, I. Drosos, J. M. Markel and P. J. Guo, "The Design Space of Computational Notebooks: An Analysis of 60 Systems in Academia and Industry," 2020 IEEE Symposium on Visual Languages and Human-Centric Computing (VL/HCC), 2020<p>



## Dernière génération

<img src="figure/nouveau_notebook.png" style="margin-top:40px;" width="800"/>



## Le petit dernier !

<img src="figure/quarto.png" style="margin-top:40px;" width="600"/>

Python, R , Julia, Javascript (observable !)....



## Programmation lettrée & Notebook 
 
<img src="figure/LP1.png" style="margin-top:60px;" width="800"/>

## LP, Notebook & Reproductibilité

<img src="figure/LP2.png" style="margin-top:60px;" width="800"/> 
 

# {data-background="figure/partie4.png" data-background-size="500px"}

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>


## Couple pour la reproductibility

## Exemple quarto !

R + javascript + Git

https://neocarto.github.io/Quarto/

# Conclusion

Notebook -> un futur format de publication de Ref ? Rzine
Callisto de Humanum
GT Notebook

Format de sortie multiple, plein d'usage :


Support de cours, Diaporama, Livre, Exercice, tutoriel, Annexe d'article, billet de blog, CV, lettre, article scientifique, rapport statistique (automatisé), site web...

## Exemple : cette présentation

Faire carte interactive de localisation

```{r, echo=FALSE, eval=TRUE, warning=FALSE, message=FALSE}

library(sf)
ptsfg <- st_point(c(2.3665252351553487, 48.90718862438445))
ptsfc <- st_sfc(ptsfg, crs = (4326))
ptdf <- data.frame(id= 1, name = "Vous êtes ici !")
Here <- st_sf(ptdf,geometry = ptsfc)


library(leaflet)

leaflet(Here) %>%
    addTiles() %>%
    addMarkers(data = Here)


```

## Diapositives libres (CC BY-SA 4.0)

<br>
<p class="moyp">Diaporama :</p>
<p class="moyp222">https://huguespecout.github.io/notebook_mateshs/#/</p>



<br>
<p class="moyp">Code source :</p>
<p class="moyp222">https://github.com/HuguesPecout/notebook_mateshs</p>
<br>

[<img src="figure/twitter.png" width="45"/ style="margin-top:30px;margin-bottom:-10px;margin-right:10px;">](https://gitlab.huma-num.fr/rzine/site)@rzine_shs

## Info session

<br>

```{r, echo=FALSE, eval=TRUE}

sessionInfo()


```  
  